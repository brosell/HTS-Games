<HTML>
<HEAD>
<TITLE>
PackFunctions.cpp
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#include</font> <font color="maroon">"PackFunctions.h"</font>


UDBLBYTE unpackDblByte<font color="black">(</font>UBYTE<font color="black">*</font> payload<font color="black">)</font>
<font color="black">{</font>
  UDBLBYTE qb <font color="black">=</font> <font color="maroon">0</font>;
  qb <font color="black">=</font> <font color="black">(</font>payload<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">&#60;</font><font color="black">&#60;</font> <font color="maroon">8</font><font color="black">)</font> <font color="black">+</font>
       <font color="black">(</font>payload<font color="black">[</font><font color="maroon">1</font><font color="black">]</font><font color="black">)</font>;

  <font color="blue">return</font> qb;
<font color="black">}</font>

<font color="blue">void</font> packDblByte<font color="black">(</font>UDBLBYTE db, UBYTE<font color="black">*</font> payload<font color="black">)</font>
<font color="black">{</font>
  <font color="blue">unsigned</font> <font color="blue">int</font> t<font color="black">=</font>db;
  payload<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">=</font> <font color="black">(</font>t <font color="black">&</font> <font color="maroon">0xff00</font><font color="black">)</font> <font color="black">&#62;</font><font color="black">&#62;</font> <font color="maroon">8</font>;
  payload<font color="black">[</font><font color="maroon">1</font><font color="black">]</font> <font color="black">=</font> <font color="black">(</font>t <font color="black">&</font> <font color="maroon">0x00ff</font><font color="black">)</font>;
<font color="black">}</font>


UQUADBYTE unpackQuadByte<font color="black">(</font>UBYTE<font color="black">*</font> payload<font color="black">)</font>
<font color="black">{</font>
  UQUADBYTE qb;
  qb <font color="black">=</font> <font color="black">(</font>payload<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">&#60;</font><font color="black">&#60;</font> <font color="maroon">24</font><font color="black">)</font> <font color="black">+</font>
           <font color="black">(</font>payload<font color="black">[</font><font color="maroon">1</font><font color="black">]</font> <font color="black">&#60;</font><font color="black">&#60;</font> <font color="maroon">16</font><font color="black">)</font> <font color="black">+</font>
           <font color="black">(</font>payload<font color="black">[</font><font color="maroon">2</font><font color="black">]</font> <font color="black">&#60;</font><font color="black">&#60;</font> <font color="maroon">8</font><font color="black">)</font> <font color="black">+</font>
           <font color="black">(</font>payload<font color="black">[</font><font color="maroon">3</font><font color="black">]</font><font color="black">)</font>;

  <font color="blue">return</font> qb;
<font color="black">}</font>

<font color="blue">void</font> packQuadByte<font color="black">(</font>UQUADBYTE qb, UBYTE<font color="black">*</font> payload<font color="black">)</font>
<font color="black">{</font>
  <font color="blue">unsigned</font> <font color="blue">int</font> t<font color="black">=</font>qb;
  payload<font color="black">[</font><font color="maroon">0</font><font color="black">]</font> <font color="black">=</font> <font color="black">(</font>t <font color="black">&</font> <font color="maroon">0xff000000</font><font color="black">)</font> <font color="black">&#62;</font><font color="black">&#62;</font> <font color="maroon">24</font>;
  payload<font color="black">[</font><font color="maroon">1</font><font color="black">]</font> <font color="black">=</font> <font color="black">(</font>t <font color="black">&</font> <font color="maroon">0x00ff0000</font><font color="black">)</font> <font color="black">&#62;</font><font color="black">&#62;</font> <font color="maroon">16</font>;
  payload<font color="black">[</font><font color="maroon">2</font><font color="black">]</font> <font color="black">=</font> <font color="black">(</font>t <font color="black">&</font> <font color="maroon">0x0000ff00</font><font color="black">)</font> <font color="black">&#62;</font><font color="black">&#62;</font> <font color="maroon">8</font>;
  payload<font color="black">[</font><font color="maroon">3</font><font color="black">]</font> <font color="black">=</font> <font color="black">(</font>t <font color="black">&</font> <font color="maroon">0x000000ff</font><font color="black">)</font>;
<font color="black">}</font>

</PRE>
</BODY>
</HTML>
