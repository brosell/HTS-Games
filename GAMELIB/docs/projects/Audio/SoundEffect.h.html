<HTML>
<HEAD>
<TITLE>
SoundEffect.h
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#ifndef</font> SoundEffect_h
<font color="blue">#define</font> SoundEffect_h

<font color="blue">#include</font> <font color="maroon">"SoundMixer.h"</font>

<font color="blue">class</font> SoundEffect<font color="black">:</font> <font color="blue">public</font> ChannelListener
<font color="black">{</font>
<font color="blue">public</font><font color="black">:</font>
  SoundEffect<font color="black">(</font>string group, string filename<font color="black">)</font>;
  ~SoundEffect<font color="black">(</font><font color="black">)</font>;
  
  <font color="blue">void</font> play<font color="black">(</font><font color="blue">int</font> loopcount <font color="black">=</font> <font color="maroon">0</font><font color="black">)</font>;
  <font color="blue">void</font> halt<font color="black">(</font><font color="black">)</font>;
  <font color="blue">void</font> fadeOut<font color="black">(</font><font color="blue">int</font> millis<font color="black">)</font>;

  <font color="blue">int</font> getVolume<font color="black">(</font><font color="black">)</font>;
  <font color="blue">void</font> setVolume<font color="black">(</font><font color="blue">int</font> volume<font color="black">)</font>;
  
  <font color="blue">static</font> <font color="blue">void</font> setVolume<font color="black">(</font>string group, <font color="blue">int</font> volume<font color="black">)</font>;
  <font color="blue">static</font> <font color="blue">int</font> getVolume<font color="black">(</font>string group<font color="black">)</font>;
  
  virtual <font color="blue">void</font> channelFinished<font color="black">(</font>ChannelFinishedEvent<font color="black">*</font> event<font color="black">)</font>;
<font color="blue">private</font><font color="black">:</font>
  <font color="blue">void</font> setVolume<font color="black">(</font><font color="black">)</font>;
  <font color="blue">void</font> load<font color="black">(</font><font color="blue">const</font> <font color="blue">char</font><font color="black">*</font> filename<font color="black">)</font>;

  Mix_Chunk<font color="black">*</font> m_soundData;
  <font color="blue">int</font> m_channel;
  string m_group;

  <font color="blue">static</font> map<font color="black">&#60;</font>string, set<font color="black">&#60;</font>SoundEffect<font color="black">*</font><font color="black">&#62;</font> <font color="black">&#62;</font> s_fx;
  <font color="blue">static</font> map<font color="black">&#60;</font>string, <font color="blue">int</font><font color="black">&#62;</font> s_volumes;
<font color="black">}</font>;

<font color="blue">#endif</font>
</PRE>
</BODY>
</HTML>
