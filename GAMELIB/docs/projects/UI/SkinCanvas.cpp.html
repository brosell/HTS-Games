<HTML>
<HEAD>
<TITLE>
SkinCanvas.cpp
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#pragma</font> <font color="blue">warning</font> <font color="black">(</font>disable <font color="black">:</font> <font color="maroon">4786</font> <font color="maroon">4503</font> <font color="maroon">4530</font><font color="black">)</font>
<font color="blue">#include</font> <font color="maroon">"UI/SkinCanvas.h"</font>
<font color="blue">#include</font> <font color="maroon">"BR_Game.h"</font>
<font color="blue">#include</font> <font color="maroon">"Misc/AssetManager.h"</font>

SkinCanvas<font color="black">:</font><font color="black">:</font>~SkinCanvas<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
  <font color="blue">if</font> <font color="black">(</font>m_skin<font color="black">)</font>
  <font color="black">{</font>
    theGame.assetManager<font color="black">-</font><font color="black">&#62;</font>releaseSkin<font color="black">(</font>m_skin<font color="black">)</font>;
  <font color="black">}</font>
<font color="black">}</font>

<font color="blue">void</font> SkinCanvas<font color="black">:</font><font color="black">:</font>setSkin<font color="black">(</font>string assetName<font color="black">)</font>
<font color="black">{</font>
  <font color="blue">if</font> <font color="black">(</font>m_skin<font color="black">)</font>
  <font color="black">{</font>
    theGame.assetManager<font color="black">-</font><font color="black">&#62;</font>releaseSkin<font color="black">(</font>m_skin<font color="black">)</font>;
    m_skin <font color="black">=</font> <font color="maroon">0</font>;
  <font color="black">}</font>
  m_skin <font color="black">=</font> theGame.assetManager<font color="black">-</font><font color="black">&#62;</font>getSkin<font color="black">(</font>assetName<font color="black">)</font>;
<font color="black">}</font>

<font color="blue">void</font> SkinCanvas<font color="black">:</font><font color="black">:</font>paint<font color="black">(</font>Display<font color="black">*</font> display<font color="black">)</font>
<font color="black">{</font>
  <font color="blue">if</font> <font color="black">(</font>m_skin<font color="black">!</font><font color="black">=</font><font color="maroon">0</font><font color="black">)</font>
  <font color="black">{</font>
    Rect r <font color="black">=</font> getTranslatedPosition<font color="black">(</font><font color="black">)</font>;
    m_skin<font color="black">-</font><font color="black">&#62;</font>blit<font color="black">(</font>display, r.x, r.y, <font color="blue">false</font><font color="black">)</font>;
  <font color="black">}</font>
<font color="black">}</font>

</PRE>
</BODY>
</HTML>
